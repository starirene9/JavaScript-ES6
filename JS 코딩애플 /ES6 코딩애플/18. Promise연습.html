<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>


    <script>
        //Q2. Ajax 요청이 성공하면(GET) 무언가 코드를 실행하고 싶습니다. 

        // separate the jQuery script tag from your inline JavaScript code <- 이 문제 있었음

        // $.ajax({
        //     type: 'GET',
        //     url: 'URL 경로'
        // }).done(function (결과) {
        //     console.log(결과);
        // })

        // $.get('https://codingapple1.github.io/hello.txt').done(function(결과) {
        //     console.log(결과);
        // });

        // 둘중 하나 마음에 드는거 쓰시면 URL 경로 상에 있는 데이터를 가져올 수 있습니다. 
        // 결과라는 파라미터에 여러분이 가져온 데이터가 담겨져있습니다. 

        var 프로미스 = AjaxFunction('https://codingapple1.github.io/hello.txt')

        프로미스.then(function (결과) {
            console.log(결과) // '안녕하세요 반갑습니다요.'

            // 프로미스 체이닝 중~! 첫 번째것이 성공하면 두번째 것도 실행 
            return AjaxFunction('https://codingapple1.github.io/hello2.txt')
        }).then(function (결과) {
            console.log(결과); // '두번째 인삿말입니다'
        })

        // 이렇게 함수화 하면 편함 

        function AjaxFunction(URL) {
            return new Promise(function (resolve, reject) {
                $.get(URL)
                    .done(function (결과) {
                        resolve(결과)
                    });
            });
        }
    </script>
</body>

</html>